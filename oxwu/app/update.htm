<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="./css/style.css">
<style type="text/css">
#container{
	width:400px;
}

#table{
	display:table;
	color:#373737;
	margin: 20px 20px 0 20px;
}

#table .row{
	display:table-row;
}

#table .header{
	display:table-cell;
	vertical-align:middle;
	padding:10px;
	text-align:left;
	font-weight:bold;
	white-space:nowrap;
}

#table .content{
	display:table-cell;
	vertical-align:middle;
	padding:10px;
}
</style>
<script src="./js/jquery.min.js"></script>
<script language="JavaScript">
window.$ = window.jQuery = require('./js/jquery.min.js');
const electron = require('electron');
const remote = electron.remote;
const app = remote.app
const ipcRenderer = electron.ipcRenderer;
//console.log(ipcRenderer.sendSync('synchronous-message', 'ping')); // prints "pong"
</script>
<script src="./js/town_info.js"></script>
<script language="JavaScript">
function onload(){
	// Bind element event
	$("#top-bar .icons").hover(function(){
		$(this).addClass("hover");
	}, function(){
		$(this).removeClass("hover");
	});

	$("#top-bar .icons.close, #cancel-button").bind("click", function(){
		remote.getCurrentWindow().close();
	});

	$("#update-button").bind("click", function(){
		// Notify main process and close setting window
		ipcRenderer.send('update-app');
		remote.getCurrentWindow().close();
	});

	// Bind ipc event
	ipcRenderer.on('focus', function(event, arg){
		$("body").removeClass("focus blur").addClass("focus");
	});

	ipcRenderer.on('blur', function(event, arg){
		$("body").removeClass("focus blur").addClass("blur");
	});
}
</script>
</head>
<body class="focus" onload="onload();">
<div id="window">
	<div id="wrapper">
		<div id="top-bar">
			<div class="center">
				<div class="title">更新</div>
			</div>
			<div class="right">
				<span class="icons close"></span>
			</div>
			<div style="clear:both;"></div>
		</div>
		<div id="container">
			<div id="table">
				<div class="row">
					<div class="header" style="font-size:0;"><img src="./image/update.png"></div>
					<div class="content" style="padding-left:0;">已經為您準備好新版本的程式，請問您是否要立即更新呢？</div>
				</div>
			</div>

			<div style="text-align:center;margin:20px 0;">
				<button id="update-button">更新</button>&nbsp;&nbsp;<button id="cancel-button">稍後</button>
			</div>
		</div>
	</div>
</div>
</body>
</html>